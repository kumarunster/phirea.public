
<!DOCTYPE html>
<html lang="en" ng-app="myApp">
  <head>
    <meta charset="utf-8">
    <title>Template &middot; Bootstrap Session:</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="../../static/assets/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 20px;
        padding-bottom: 40px;
      }

      /* Custom container */
      .container-narrow {
        margin: 0 auto;
        max-width: 700px;
      }
      .container-narrow > hr {
        margin: 30px 0;
      }

      /* Main marketing message and sign up button */
      .jumbotron {
        margin: 60px 0;
        text-align: center;
      }
      .jumbotron h1 {
        font-size: 72px;
        line-height: 1;
      }
      .jumbotron .btn {
        font-size: 21px;
        padding: 14px 24px;
      }

      /* Supporting marketing content */
      .marketing {
        margin: 60px 0;
      }
      .marketing p + h4 {
        margin-top: 28px;
      }
    </style>
    <link href="../../static/assets/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../static/assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../static/assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../static/assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../static/assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="../../static/assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="../../static/assets/ico/favicon.png">
                                   
    <link rel="stylesheet" href="../../static/css/form-validation.css" >
    
  </head>

  <body sessionId="${session}">

    <div class="container-narrow" ng-controller="UserCtrl">

      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li class="active"><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li ng-show="currentUser == null"><a ng data-toggle="modal" href="#signupModal">Sign-Up</a></li>
          <li ng-show="currentUser == null"><a ng data-toggle="modal" href="#loginModal">Login</a></li>
          <li ng-show="currentUser != null"><a ng data-toggle="modal" href="#userProfil">Hello, {{currentUser.fName}} {{currentUser.lName}}</a></li>
          <li ng-show="currentUser != null"><a ng href="" ng-click="logout()" >Logout</a></li>
        </ul>
        <h3 class="muted">Project name</h3>
      </div>

      <hr>
	  | SessionId: ${session}


		<div class="container-fluid">
			<div class="row-fluid" >
				<div class="span2">
					<!--Sidebar content-->

					Search: <input ng-model="query">

				</div>
				
			</div>
			<div class="row-fluid" >
			    <div class="span10">
                    <!--Body content-->

                    <ul class="phones">
                        <li ng-repeat="user in allUser | filter:query">
                            {{user.fName}}, {{user.lName}}, {{user.email}}, {{user.gender.getCode()}} 
                        </li>
                    </ul>

                </div>
			</div>
			
			
			
			<div class="row-fluid" ng-controller="ChatCtrl" ng-show="currentUser != null">
                <div class="span6">
                    <div class="row" >
                        <div class="span12">
                            //TODO
                            chat history
                            <div ng-repeat="msg in messages">
                                {{msg.sender.fName}}, {{msg.sender.lName}}: <span ng-bind-html="msg.text | newlines"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="display: table-cell;vertical-align: bottom;float: none;">
                        <div class="span12">
                            //TODO
                            text area for current user
                            <% //its groovy %>
                            <% def ngEvent = "\$" + "event" %>
                            <textarea rows="2" ng-model="message" ng-keydown="sendMessage(${ngEvent})">
                            </textarea>    
                            <button class="btn btn-primary" ng-click="sendMessage(null)">Send</button>
                        </div>
                    </div>
                </div>
                <div class="span4">
                    //TODO
                    names of all actually logged in users
                    <ul ng-repeat="buddy in loggedInUsers">
                        <li>{{buddy.fName}}, {{buddy.lName}}</li>
                    </ul>
                </div>
            </div>
			
			
		</div>


		<!-- 
      
      <div class="jumbotron">
        <h1>Super awesome marketing speak!</h1>
        <p class="lead">Cras justo odio, dapibus ac facilisis in, egestas eget quam. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
        <a class="btn btn-large btn-success" href="#">Sign up today</a>
      </div>

      <hr>

      <div class="row-fluid marketing">
        <div class="span6">
          <h4>Subheading</h4>
          <p>Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.</p>

          <h4>Subheading</h4>
          <p>Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>

          <h4>Subheading</h4>
          <p>Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
        </div>

        <div class="span6">
          <h4>Subheading</h4>
          <p>Donec id elit non mi porta gravida at eget metus. Maecenas faucibus mollis interdum.</p>

          <h4>Subheading</h4>
          <p>Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum.</p>

          <h4>Subheading</h4>
          <p>Maecenas sed diam eget risus varius blandit sit amet non magna.</p>
        </div>
      </div>
      
	   -->	
      <hr>

      <div class="footer">
        <p>&copy; Company 2013</p>
      </div>

      <div class="modal hide fade" ng-include="'signup-partial.html'" id="signupModal"></div>
      <div class="modal hide fade" ng-include="'login-partial.html'" id="loginModal"></div>
    </div> <!-- /container -->
    

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../static/js/lib/sockjs-0.3.min.js"></script>
   <script src="../../static/js/lib/vertxbus.js"></script>
    <script src="../../static/js/common-infrastructure.js"></script>
    
    <script src="../../static/js/lib/jquery-1.7.1.min.js"></script>
    
    <script src="../../static/js/lib/angular/angular.js"></script>
    <script src="../../static/js/lib/angular/angular-cookies.js"></script>
    <script src="../../static/js/lib/angular/angular-sanitize.js"></script>
    
    <script src="../../static/js/lib/bootstrap.js"></script>
    <script src="../../static/js/datamodel/stjs.js"></script>
  	
  	<script src="../../static/js/app.js"></script>
	<script src="../../static/js/filters.js"></script>
	<script src="../../static/js/directives.js"></script>
	
    <script src="../../static/js/user/User.model.js"></script>
	<script src="../../static/js/user/User.services.js"></script>
	<script src="../../static/js/user/User.controllers.js"></script>
	<script src="../../static/js/user/User.directives.js"></script>
  	
	<script src="../../static/js/lib/jquery.validate.min.js"></script>
    
<!--     <script src="/static/js/myCode.js"></script> -->
   
    
    
  </body>
</html>
